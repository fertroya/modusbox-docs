== Sending from Application to Partner


In this scenario, an Application sends a Document to a Partner.

== Relationships

There are four relationships in this scenario:

|===
|Relationship|Description|Contains


s|A : Any
|Universal relationship between Application A and any other Application
|Contains Artifacts specific to transactions between Application *A* and any other Application.

s,a|_YourCompany_ B2B : Any
|Universal relationship between your company any partner
|Contains Artifacts used across all partners with whom you do business

s|AppA : _YourCompany_ B2B 
|Relationship between this applcation and... 
|Contains Artifacts used...

s|PartA : _YourCompany_ B2B 
|Your company's relationship with the partner with whom you are doing business (in this case, *PartA*).
|Contains artifacts used only with this partner

|===

== Artifacts and Artifact Configuration 

This tables and flow diagrams in this section identifies:

* Artifacts that must be configured in order for a given document to be routed (that is, not rejected)
* The Relationship in which the artifacts are configured

//==== Configured in *AppA : Any*

.Application Sends to Partner Routing Scenario Artifacts - AppA : Any 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
s|Y
|Document Type you expect to receive from this Application
|xref:document-types[Document Types]
|===

//==== Configured in *_YourCompany_ B2B : Any*

.Application Sends to Partner Routing Scenario Artifacts - *_YourCompany_ B2B : Any* 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
s|X
|Document Type your company uses internally
|xref:document-types[Document Types]

|xref:glossary#secte[Endpoint]
|*Routing Hub*
|Endpoint used to route Documents
|xref:endpoints[Endpoints] 
|===

=== Artifacts in AppA : Any

* Document Q

** A document you expect to receive from your application.

==== Artifacts in [_YourCompany_ B2B:Any]

* Document C

** A document you use internally in your company.

* Endpoint Routing Hub

** This is the endpoint used to Route documents.

* Target Channel C-to-HUB

** This channel will take the internal document C and send it to the Routing Hub.

* Source Channel C-Passthrough

** This source channel will pass the Document C to whatever Target channel is selected.

==== Artifacts in [AppA:_YourCompany_ B2B]

* Map Q-to-C

** This map will convert the document Q into document C

* Source Channel Q-to-C

** This source channel will map the document Q into the document C

* Transaction DocQ-to-DocC-to-HUB

** This transaction is the combination of the Source Channel Q-to-C and the Target Channel C-to-HUB. And when combined it will be a transaction that receives a document Q, maps it to Document C and then sends it to the Routing Hub. This transaction has the From Partner set to ApplicationA and the To Partner set to Your Company B2B.

==== Artifacts in [PartnerA:_YourCompany_ B2B]

* Endpoint PartnerA

** The endpoint that points to your external partner.

* Document P

** A document that your partner expects to receive from you.

* Map C-to-P

** This map will convert the document C into document P

* Target Channel C-to-P-to-PartnerA

** This target channel will map the Document C to Document P and then pass it to PartnerA's Endpoint

* Transaction DocC-to-DocP-to-PartnerA

** This transaction is the combination of the Source Channel C-Passthrough and the Target Channel DocC-to-DocP-to-PartnerA. And when combined it will be a transaction that receives a document C, maps it to Document P and then sends it to the endpoint PartnerA. This transaction has the From Partner set to Your Company B2B and the To Partner set to PartnerA.

==== ApplicationA sends Document Q to Endpoint RecFromA.

* Integration Manager:

** Receives Document Q

** Attempts to resolve routes
** Finds Transaction DocQ-to-DocC-to-HUB
** Executes that transaction, which maps the transaction to Document C

**  Sends Document C to Endpoint Routing HUB.

* Integration Manager:

** Receives Document C

** Attempts to resolve routes
** Finds Transaction DocC-to-DocP-to-PartnerA
** Executes that transaction, which maps the transaction to Document P

**  Sends Document P to Endpoint PartnerA.

