= Basic Routing Scenario

In this scenario, your organization receives a xref:glossary#sectd[Document] from a xref:glossary#sectp[Partner]. 
If IH has been configured to receive a document of this xref:glossary#sectd[Document Type], IH routes the document to an internal API. 
If IH has not been configured to receive a document of this Document Type, IH rejects the document. 


== Relationships

There are two xref:glossary#sectr[Relationships] in this scenario:

.Basic Routing Scenario Relationships
[cols="3*"]

|===
s,a|<<_YourCompany_ B2B : Any>> 
|Universal relationship between your company any partner
|Contains Artifacts used across all partners with whom you do business

s, a|<<_YourCompany_ B2B : PartA>>
|Your organization's relationship with the partner with whom you are doing business (in this case, *PartA*)
|Contains artifacts used only with Partner *PartA*
|===

[[img-basic-scenario-artifacts]]

image::basic-scenario-artifacts.png[img-basic-scenario-artifacts, title="Basic Scenario Artifacts"]


== Artifacts and Artifact Configuration 

This section identifies:

* Artifacts that must be configured in order for the document in this scenario to be routed (that is, not rejected)
* The Relationship (either *_YourCompany_ B2B : Any* or *_YourCompany B2B_ : PartA*) in which the artifacts are configured


//== Configured in *YourCompany B2B : Any*

.Basic Scenario Artifacts - YourCompany B2B : Any
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
s|Y
|Document Type you use internally in your company
|xref:document-types.adoc[Document Types]

|xref:glossary#secte[Endpoint]
s|API
|Endpoint that points to an internal API
|xref:endpoints.adoc[Endpoints] 

|xref:glossary#sectt[Target Channel]
s|Y-to-API
|Channel that sends a document of the internal Document Type *Y* to Endpoint *API*
|xref:channels.adoc[Channels] 

|===

//== Configured in _YourCompany_ B2B : PartA

.Basic Scenario Artifacts - _YourCompany_ B2B : PartA

[cols="2, 2, 6, 2"]
|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
|*RecFromA*
|Endpoint at which you expect to receive documents from *PartA*
|xref:endpoints[Endpoints] 

|xref:glossary#sectd[Document Type]
|*X*
|Document Type that includes a document you expect to receive from *PartA*
|xref:document-types[Document Types]

|xref:glossary:#sectm[Map] 
|*Y-to-X*
|Transforms a document of Document Type *Y* to a document of Document Type *X*
|xref:maps[Maps]

|xref:glossary#sects[Source Channel]
|*X-to-Y*
|Includes the process that maps and sends a document of *Y* to a document of *X*
|xref:channels[Channels] 

|xref:glossary#sect[Transaction] 
|*X-to-Y-to-API*
|Combination of the Source Channel *Y-to-X* and the Target Channel *X-to-API*.
It receives a document of *Y*, maps it to a document of *X* and then sends it to Endpoint *API*. 
In this Transaction, the *From* Partner is configured as *PartA* and the *To* Partner as *YourCompany B2B*.
|xref:transaction-designer[Transaction Designer] 

|===

== Outcomes

The outcome of this scenario depends on whether the following artifacts are configured appropriately:

* Partner *PartA*
* Document Type *X*
* Document Type *Y*
* Endpoint *RecFromA*
* Endpoint *API*
* Target Channel *X-to-API*
* Source Channel *Y-to-X*
* Transaction *Y-to-X-to-API*

== Outcome: Document Accepted and Routed

All artifacts are correctly configured; IH routes an incoming document of *Y* from Partner *PartA* to Endpoint *RecFromA*.

Integration Hub:

* Receives a document of Document Type *X*.
* Attempts to resolve routes.
** Finds a Transaction *Y-to-X-to-API* that contains *Y*.
* Executes Transaction *Y-to-X-to-API*, which transforms the Document from *X* to *Y*.
* Sends the document to Endpoint *API*.

[[img-basic-scenario-outcome-success]]

image::basic-scenario-outcome-success.png[img-basic-scenario-outcome-success, title="Basic Scenario Outcome (Success)"]


== Outcome: Document Rejected

Partner *PartA* sends a document of Document Type *Z* to Endpoint *RecFromA*. 
Document Type *Z* is not configured in Relationship *_YourCompany_ B2B : Any*; IH rejects the document. 

Integration Hub:

* Receives incoming document.
* Attempts to resolve Routes.
* Does not find a corresponding Transaction.
* Rejects the document.

[[img-basic-scenario-outcome-rejection]]

image::basic-scenario-outcome-rejection.png[img-basic-scenario-outcome-rejection, title="Basic Scenario Outcome (Rejection)"]

