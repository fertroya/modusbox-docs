= Multicast Routing Scenario 


In this scenario, an xref:glossary#secta[Application] sends a xref:glossary#sectd[Document] to three other Applications. Two of the Applications require the Document as-sent; the third requires the payload to be mapped.

=== Relationships

There are seven xref:glossary#sectr[Relationships] in this scenario:

.Override Routing Scenario Relationships
[cols="3*"]

|===
|Relationship|Description|Contains

s|AppA : Any 
|Universal relationship between Application *AppA* and any other Application
|Artifacts specific to transactions between *AppA* and any other Application

s|AppB : Any
|Universal relationship between Application *AppB* and any other Application
|Artifacts specific to transactions between *AppB* and any other Application

s|AppC : Any
|Universal relationship between Application *AppC* and any other Application
|Artifacts specific to transactions between *AppC* and any other Application

s|AppD : Any
|Universal relationship between Application *AppD* and any other Application
|Artifacts specific to transactions between *AppD* and any other Application

s|AppA : AppB
|The relationship between Application *AppA* and Application *AppB*. 
|Artifacts used only between these applications.

s|AppA : AppC
|The relationship between Application *AppA* and Application *AppC*. 
|Artifacts used only between these applications.

s|AppA : AppD
|The relationship between Application *AppA* and Application *AppD*. 
|Artifacts used only between these applications.

|===


[[img-multicast-routing-scenario-artifacts]]

//Figma Frame 3
image::multicast-routing-scenario-artifacts.png[img-multicast-routing-scenario-artifacts, title="Multicast Scenario Artifacts"]

== Artifacts and Artifact Configuration 

This tables and flow diagrams in this section identifies:

* Artifacts that must be configured in order for a given document to be routed (that is, not rejected)
* The Relationship in which the artifacts are configured

=== AppA : Any

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
s|AppRecFromA
|Endpoint on which you expect to receive documents from Application *AppA*
|xref:endpoints[Endpoints] 

|xref:glossary#sectd[Document Type]
s|Y
|Document Type you expect to receive from an application
|xref:document-types[Document Types]

|xref:glossary#sects[Source Channel]
Y-Passthrough
|Source channel that passes Document Type *Y* to whatever Target channel is selected
|xref:channels[Channels] 

|===

=== AppB : Any

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
s|AppB
|Endpoint from which documents are sent to *AppB*.
|xref:endpoints[Endpoints] 
|===

=== AppC : Any

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
s|AppC
|Endpoint from which documents are sent to *AppC*.
|xref:endpoints[Endpoints] 
|===

=== AppD : Any


|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
s|AppD
|Endpoint from which documents are sent to *AppD*.
|xref:endpoints[Endpoints] 

|xref:glossary#sectd[Document Type]
s|Z
|Document Type that *AppD* wants to receive
|xref:document-types[Document Types]
|===


==== AppA : AppB

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectt[Target Channel]
s|Y-to-B
|
Target channel that passes documents of Document Type *Y* to AppB's Endpoint
|xref:channels[Channels] 

|xref:glossary#sectt[Transaction]
s|Y-Passthrough-to-B
|Combination of  Source Channel *Y-Passthrough* and Target Channel *Y-to-AppB*. 
When combined (with ?) it becomes a transaction that receives a document of Document Type *Y* and then sends it to the endpoint *B*. This transaction has the From Partner set to *AppA* and the To Partner set to **AppB**.
|xref:transaction-designer[Transaction Designer] 

|===


== Outcomes

=== AppA sends Document of Document Type Y to Endpoint RecFromA

[[img-multicast-routing-scenario-outcomes]]

image::multicast-routing-scenario-outcomes.png[img-multicast-routing-scenario-outcomes, title="Multicast Routing Scenario Outcomes"]


Integration Hub:

* Receives the document on *RecFromA*

* Attempts to resolve routes
* Finds three Transactions 
** *Y-Passthrough-to-B* 
** *Y-Passthrough-to-C*
** *Y-to-X-to-D*
* Executes all transactions:

** Sends Document of Type *Y* to Endpoint *B*.

** Sends Document of Type *Y* to Endpoint *C*.

** Maps Document of Type *Y* to Document Type *X*, then sends it to  Endpoint **AppD**.


