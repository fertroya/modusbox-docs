= Application Sends to Partner


In this scenario, an xref:glossary#secta[Application] sends a xref:glossary#sectd[Document] to a xref:glossary#sectp[Partner].

== Relationships

There are four xref:glossary#sectr[Relationships] in this scenario:

|===
|Relationship|Description|Contains


s|AppA : Any
|Universal Relationship between Application A and any other Application
|Contains xref:glossary#secta[Artifacts] specific to transactions between Application *A* and any other Application.

s|_YourCompany_ B2B : Any
|Universal relationship between your company and any partner
|Contains Artifacts used across all partners with whom you do business

s|AppA : _YourCompany_ B2B 
|Relationship between this applcation and the Home Partner (*_YourCompany_ B2B*)
|Contains Artifacts specific to transactions between Application *A* and the Home Partner

s|PartA : _YourCompany_ B2B 
|Your company's relationship with the partner with whom you are doing business (in this case, *PartA*).
|Contains artifacts used only with this partner

|===

[[img-application-to-partner-routing-scenario-artifacts]]

image::application-to-partner-routing-scenario-artifacts.png[img-application-to-partner-routing-scenario-artifacts, "Application-to-Partner Routing Scenario Artifacts]

== Artifacts and Artifact Configuration 

This tables and flow diagrams in this section identifies:

* Artifacts that must be configured in order for a given document to be routed (that is, not rejected)
* The Relationship in which the artifacts are configured

//==== Configured in *AppA : Any*

.Application Sends to Partner Routing Scenario Artifacts - AppA : Any 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
s|Y
|Document Type you expect to receive from this Application
|xref:document-types.adoc[Document Types]
|===

//==== Configured in *_YourCompany_ B2B : Any*

.Application Sends to Partner Routing Scenario Artifacts - *_YourCompany_ B2B : Any* 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
s|X
|Document Type your company uses internally
|xref:document-types.adoc[Document Types]

|xref:glossary#secte[Endpoint]
|*Router*
|Endpoint used to route Documents
|xref:endpoints.adoc[Endpoints] 

|xref:glossary#sectt[Target Channel]
|*X-to-Router*
|Sends Document of Document Type *X* to IHub 
|xref:channels.adoc[Channels] 

|xref:glossary#sects[Source Channel]
|*X-to-Passthru*
|Sends Document of Document Type *X* to selected Target Channel. 
|xref:channels.adoc[Channels] 

|===

//=== Configured in AppA : _YourCompany_ B2B

.Application Sends to Partner Routing Scenario Artifacts - *AppA : _YourCompany_ B2B* 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectm[Map]
s|Y-to-X
|Transforms a document of Document Type *Y* to a Document of Document Type *X*
|xref:document-types.adoc[Maps]

|xref:glossary#sects[Source Channel]
|*Y-to-X*
|Maps document of Document Type *Y* to a Document of Document Type *X*.
|xref:channels.adoc[Channels] 

|xref:glossary#sectt[Transaction]
|*Y-to-X-to-Router*
|Combination of the Source Channel *Y-to-X* and the Target Channel **X-to-Router**. Receives a document of Type **Y**, maps it to a document of Type *X*, then sends it to the *Router* Endpoint. This transaction has *From Partner* set to *AppA* and *To Partner* set to **_Your Company_ B2B**.
|xref:transaction-designer.adoc[Transactions Designer] 

|===






==== Artifacts in PartA : _YourCompany_ B2B

//=== Configured in AppA : _YourCompany_ B2B

.Application Sends to Partner Routing Scenario Artifacts - *AppA : _YourCompany_ B2B* 
[cols="4*"]

|===
|Artifact|Artifact Name|Description|Configured on page


|xref:glossary#secte[Endpoint]
|*PartA*
|Endpoint that points to an external Partner
|xref:endpoints.adoc[Endpoints] 

|===

* Endpoint PartnerA

** The endpoint that points to your external partner.

* Document P

** A document that your partner expects to receive from you.

* Map C-to-P

** This map will convert the document C into document P

* Target Channel C-to-P-to-PartnerA

** This target channel will map the Document C to Document P and then pass it to PartnerA's Endpoint

* Transaction DocC-to-DocP-to-PartnerA

** This transaction is the combination of the Source Channel C-Passthrough and the Target Channel DocC-to-DocP-to-PartnerA. And when combined it will be a transaction that receives a document C, maps it to Document P and then sends it to the endpoint PartnerA. This transaction has the From Partner set to Your Company B2B and the To Partner set to PartnerA.

== Outcomes

[[img-application-to-partner-routing-scenario-outcome]]

image::application-to-partner-routing-scenario-outcome.png[img-application-to-partner-routing-scenario-outcome, "Application-to-Partner-Routing-Scenario-Outcome"]


==== ApplicationA sends Document Q to Endpoint RecFromA.

* Integration Manager:

** Receives Document Q

** Attempts to resolve routes
** Finds Transaction DocQ-to-DocC-to-HUB
** Executes that transaction, which maps the transaction to Document C

**  Sends Document C to Endpoint Routing HUB.

* Integration Manager:

** Receives Document C

** Attempts to resolve routes
** Finds Transaction DocC-to-DocP-to-PartnerA
** Executes that transaction, which maps the transaction to Document P

**  Sends Document P to Endpoint PartnerA.

