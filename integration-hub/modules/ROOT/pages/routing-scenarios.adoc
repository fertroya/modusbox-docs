= Routing Scenarios

This page presents scenarios that identify and illustrate:

* Integration Hub (IH) artifacts
* How you can configure IH artifacts to implement routing objectives.

== Basic Scenario

In this scenario, your organization receives a xref:glossary#sectd[document] from a xref:glossary#sectp[Partner]. 
If IH has been configured to receive a document of this xref:glossary#sectd[Document Type], IH routes the document to an internal API. 
If IH has not been configured to receive a document of this Document Type, IH rejects the document. 


=== Relationships

There are two xref:glossary#sectr[Relationships] in this scenario:

YourCompany B2B : Any::
* Universal B2B Relationship between your organization and any Partner.
* Contains artifacts used across all partners with whom you do business.
YourCompany B2B : *PartA*::
* Your organization's Relationship with the Partner with whom you are doing business (*PartA* in this scenario).
* Contains artifacts used only with this Partner.

[[img-basic-scenario-artifacts]]

//Figma Frame 3
image::basic-scenario-artifacts.png[img-basic-scenario-artifacts, title="Basic Scenario Artifacts"]


=== Artifacts and Artifact Configuration 

This section identifies:

* Artifacts that must be configured in order for the document in this scenario to be routed (that is, not rejected)
* The Relationship (either *YourCompany B2B : Any* or *YourCompany B2B : PartA*) in which the artifacts are configured


//==== Configured in *YourCompany B2B : Any*

.Basic Scenario Artifacts - YourCompany B2B : PartA
[cols="4*"]
|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#sectd[Document Type]
|*DocTypeY*
|Document Type you use internally in your company
|xref:document-types[Document Types]

|xref:glossary#secte[Endpoint]
|*API*
|Endpoint that points to an internal API
|xref:endpoints[Endpoints] 

|xref:glossary#sectt[Target Channel ]
|*Y-to-API*
|Channel that sends a document of the internal Document Type *DocTypeC* to Endpoint *API*
|xref:channels[Channels] 

|===

//==== Configured in YourCompany B2B : PartA

.Basic Scenario Artifacts - YourCompany B2B : PartA

[cols="2, 2, 6, 2"]
|===
|Artifact|Artifact Name|Description|Configured on page

|xref:glossary#secte[Endpoint]
|*RecFromA*
|Endpoint at which you expect to receive documents from *PartA*
|xref:endpoints[Endpoints] 

|xref:glossary#sectd[Document Type]
|*DocTypeX*
|Document Type that includes a document you expect to receive from *PartA*
|xref:document-types[Document Types]

|xref:glossary:#sectm[Map] 
|*X-to-Y*
|Transforms a document of Document Type *DocTypeQ* to a document of Document Type *DocTypeC*
|xref:maps[Maps]

|xref:glossary#sects[Source Channel]
|*X-to-Y*
|Includes the process that maps and sends a document of *DocTypeQ* to a document of *DocTypeX*
|xref:channels[Channels] 

|xref:glossary#sect[Transaction] 
|*X-to-Y-to-API*
|Combination of the Source Channel *Q-to-C* and the Target Channel *C-to-API*.
It receives a document of *DocTypeQ*, maps it to a document of *DocTypeC* and then sends it to Endpoint *API*. 
** In this Transaction, the *From* Partner is configured as *PartA* and the *To* Partner as *YourCompany B2B*.
|xref:transaction-designer[Transaction Designer] 

|===

=== Outcomes

The outcome of this scenario depends on whether the following artifacts are configured appropriately:

* Partner *PartA*
* Document Type *DocTypeX*
* Document Type *DocTypeY*
* Endpoint *RecFromA*
* Endpoint *API*
* Target Channel *X-to-API*
* Source Channel *X-to-Y*
* Transaction *X-to-Y-to-API*

==== Outcome: Document Accepted and Routed

All artifacts are correctly configured; IH routes an incoming document of *DocTypeQ* from Partner *PartA* to Endpoint *RecFromA*.

Integration Hub:

* Receives a document of *DocTypeX*.
* Attempts to resolve routes.
** Finds a Transaction *DocTypeX-to-DocTypeY-to-API* that contains *DocTypeX*.
* Executes Transaction *DocTypeX-to-DocTypeY-to-API*, which transforms the document from *DocTypeX* to *DocTypeY*.
* Sends the document to Endpoint *API*.

[[img-basic-scenario-outcome-success]]

image::basic-scenario-outcome-success.png[img-basic-scenario-outcome-success, title="Basic Scenario Outcome (Success)"]


==== Outcome: Document Rejected

Partner *PartA* sends a document of Document Type *DocTypeZ* to Endpoint *RecFromA*. 
Document Type *DocTypeZ* is not configured in Relationship *YourCompany B2B : Any*; IH rejects the document. 

Integration Hub:

* Receives incoming document.
* Attempts to resolve Routes.
* Does not find a corresponding Transaction.
* Rejects the document.

[[img-basic-scenario-outcome-rejection]]

image::basic-scenario-outcome-rejection.png[img-basic-scenario-outcome-rejection, title="Basic Scenario Outcome (Rejection)"]

